plugins {
	id 'java-library'
	id 'jvm-test-suite'
	id "com.diffplug.spotless" version "6.23.3"
	id "io.freefair.lombok" version "8.4"
}

group 'org.tframework'
version '0.0.1'

repositories {
	mavenCentral()
}

dependencies {
	//logging
	implementation 'org.apache.logging.log4j:log4j-api:2.17.2'
	implementation 'org.apache.logging.log4j:log4j-core:2.17.2'
	implementation 'org.apache.logging.log4j:log4j-slf4j-impl:2.17.2'

	// testing
	testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'
	testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'
	testImplementation 'org.junit.jupiter:junit-jupiter-params:5.6.2'
	testRuntimeOnly 'org.junit.jupiter:junit-jupiter-params:5.6.2'
}

test {
	useJUnitPlatform()
	testLogging.showStandardStreams = true
	testLogging.exceptionFormat = 'full'
}

//spotless check configuration
spotless {

	format 'misc', {
		// define the files to apply `misc` to
		target '*.gradle', '*.md', '.gitignore'

		// define the steps to apply to those files
		trimTrailingWhitespace()
		indentWithTabs()
		endWithNewline()
	}

	java {
		importOrder()
		removeUnusedImports()
		licenseHeader '/* Licensed under Apache-2.0 $YEAR. */'
	}
}
